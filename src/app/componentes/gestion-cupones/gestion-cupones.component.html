<div class="container">
  <div class="card">
    <div class="card-header ps-5 pt-4 pb-4">
      <h5 class="mb-0">
        <i class="fa-solid fa-ticket-alt me-3"></i>Gestión de Cupones
      </h5>
    </div>

    <div class="card-body p-5">
      <div class="mb-3">
        <button
          type="button"
          routerLink="/crear-cupon"
          class="btn btn-success me-2"
        >
          <i class="fa-solid fa-plus me-1"></i> Crear
        </button>
        <button
          type="button"
          class="btn btn-danger anim-e"
          (click)="confirmarEliminacionCupones()"
          [disabled]="seleccionados.length == 0"
        >
          <i class="fa-solid fa-trash me-1"></i> Eliminar {{ textoBtnEliminar }}
        </button>
      </div>
      <div class="p-4 border rounded">
        <div class="row">
          <div class="col-md-3">
            <input
              type="text"
              class="form-control"
              placeholder="Código"
              [(ngModel)]="filtros.codigoCupon"
            />
          </div>
          <div class="col-md-3">
            <select class="form-select" [(ngModel)]="filtros.tipoCupon">
              <option value="">Seleccionar Tipo</option>
              <option *ngFor="let tipo of tiposDeCupon" [value]="tipo">
                {{ tipo }}
              </option>
            </select>
          </div>
          <div class="col-md-3">
            <select class="form-select" [(ngModel)]="filtros.estadoCupon">
              <option value="">Seleccionar Estado</option>
              <option *ngFor="let estado of estadosCupon" [value]="estado">
                {{ estado }}
              </option>
            </select>
          </div>

        </div>
      </div>

      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th></th>
              <th>Código</th>
              <th>Nombre</th>
              <th>Tipo</th>
              <th>Estado</th>
              <th>Descuento</th>
              <th>Fecha de Vencimiento</th>
              <th>Acciones</th> <!-- Para la columna de editar -->
            </tr>
          </thead>
          <tbody class="table-group-divider">
            <tr *ngFor="let item of cupones; trackBy: trackById">
              <td>
                <input
                  #check
                  class="form-check-input"
                  type="checkbox"
                  (change)="seleccionar(item, check.checked)"
                />
              </td>
              <td>
                <p>{{ item.codigo }}</p>
              </td>

              <td>
                <a
                  [routerLink]="['/editar-cupon', item.codigo]"
                  class="btn btn-primary me-2"
                >
                  Editar
                </a>
                <button
                  class="btn btn-danger"
                  (click)="confirmarEliminacionCupon(item)"
                  aria-label="Eliminar cupón"
                >
                  <i class="fa-solid fa-times"></i> <!-- Ícono de "X" -->
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
